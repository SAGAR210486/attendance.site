<!DOCTYPE html>
<html>
<head>
  <title>Student Attendance with Location</title>
  <script>
    function getLocationAndOpenForm() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    function showPosition(position) {
      const lat = position.coords.latitude.toFixed(6);
      const lon = position.coords.longitude.toFixed(6);
      const location = lat + "," + lon;

      // âœ… Your Google Form link with the location entry field
      const formURL = "https://docs.google.com/forms/d/e/1FAIpQLSfePnxlNvIQ_xEQrpLoVGkhc0h5PdEjKi-GDENiORdEOjd1rg/viewform?usp=pp_url&entry.1941055798=" + location;

      window.open(formURL, "_blank");
    }

    function showError(error) {
      alert("Error: Unable to fetch your location. Please allow location permission.");
    }
  </script>
</head>
<body>
  <h2>Mark Your Attendance</h2>
  <p>This will open the form with your live location auto-filled.</p>
  <button onclick="getLocationAndOpenForm()" style="font-size: 16px; padding: 10px 20px;">Open Attendance Form</button>
</body>
</html>
